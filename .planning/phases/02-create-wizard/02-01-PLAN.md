---
phase: 02-create-wizard
plan: 01
type: execute
---

<objective>
Create the wizard shell with step navigation, state management, and /create route structure.

Purpose: Establish the multi-step form foundation that all wizard steps will use.
Output: Working /create route with step indicator, navigation, and React context for wizard state.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./02-01-SUMMARY.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior phase context:
@.planning/phases/01-foundation/01-01-SUMMARY.md
@.planning/phases/01-foundation/01-03-SUMMARY.md

# Existing patterns:
@src/app/(protected)/layout.tsx
@src/components/ui/button.tsx
@src/components/ui/card.tsx

**Tech stack available:** Next.js 16.1, React 19, Tailwind v4, shadcn/ui, Framer Motion
**Established patterns:** CSS variables with oklch, (protected) route group, Server Actions
**Constraining decisions:**
- Dark mode only with luxury theme tokens
- Bodoni Moda for headings, Inter for body
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create wizard context and state management</name>
  <files>src/lib/wizard/wizard-context.tsx, src/lib/wizard/types.ts</files>
  <action>
Create WizardContext with React Context + useReducer for wizard state:
- Types: WizardStep enum (DATA, UPLOAD, SCRIPT, STYLE), WizardState interface
- State: currentStep, propertyData, images[], scriptSections[], styleOptions
- Actions: nextStep, prevStep, setPropertyData, addImages, updateScript, setStyleOptions
- Provider component wrapping children with context
- useWizard hook for consuming context

Use TypeScript strict types. Keep state serializable (no File objects - use URL strings after upload).
  </action>
  <verify>TypeScript compiles without errors: npm run build</verify>
  <done>WizardContext and useWizard hook exported and typed</done>
</task>

<task type="auto">
  <name>Task 2: Create step indicator component</name>
  <files>src/components/wizard/step-indicator.tsx</files>
  <action>
Create StepIndicator component showing 4 steps: Data → Upload → Script → Style

Design:
- Horizontal stepper with numbered circles
- Active step: gold/primary fill
- Completed steps: checkmark icon, gold border
- Upcoming steps: muted/gray
- Step labels below circles
- Use Framer Motion for transitions between states

Props: currentStep: WizardStep, completedSteps: WizardStep[]
Use existing luxury theme tokens (--primary for gold).
  </action>
  <verify>npm run build succeeds</verify>
  <done>StepIndicator renders correctly for all step states</done>
</task>

<task type="auto">
  <name>Task 3: Create /create route with wizard layout</name>
  <files>src/app/(protected)/create/page.tsx, src/app/(protected)/create/layout.tsx</files>
  <action>
Create wizard page structure:

layout.tsx:
- Wrap with WizardProvider
- Centered container (max-w-4xl)
- Card wrapper with luxury styling

page.tsx:
- StepIndicator at top
- Conditional render based on currentStep from useWizard
- Step placeholders for now (will be replaced in subsequent plans)
- Navigation buttons: Back (disabled on step 1), Next/Submit

Buttons should use existing shadcn Button component. Next button disabled until step validates.
  </action>
  <verify>Visit http://localhost:3000/create shows wizard shell with step indicator</verify>
  <done>/create route renders with step indicator and navigation, step switching works</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] /create route accessible when authenticated
- [ ] Step indicator shows 4 steps with correct labels
- [ ] Step navigation (next/back) updates current step
- [ ] Wizard context persists state across step changes
</verification>

<success_criteria>

- All 3 tasks completed
- All verification checks pass
- No TypeScript errors
- Wizard shell visually matches luxury aesthetic
</success_criteria>

<output>
After completion, create `.planning/phases/02-create-wizard/02-01-SUMMARY.md`
</output>
